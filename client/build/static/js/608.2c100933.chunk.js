"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[608],{608:function(n,e,t){t.r(e),t.d(e,{default:function(){return dt}});var r,s,i,o,a,c,u,d,l,p,x,h,f,Z,g,m,v,j,w,b,P,y,k,F,C,z,S,A,_,I,E,R,T,U,O,M,D,L,W,H,V,q,B,K,N,Y,G,Q,X,J,$=t(168),nn=t(2791),en=t(7630),tn=t(4395),rn=t(4554),sn=t(4663),on=t(36),an=t(7940),cn=t(885),un=t(5505),dn=t(890),ln=t(9953),pn=t(2161),xn=t(184),hn=(0,en.ZP)(rn.Z)(r||(r=(0,$.Z)(["\n   display:flex;\n   justify-content:center;\n"]))),fn=(0,en.ZP)("img")({width:200,height:200,borderRadius:"50%",padding:"25px 0"}),Zn=(0,en.ZP)(rn.Z)(s||(s=(0,$.Z)(["\n    background:#FFFFFF;\n    padding:12px 30px 2px;\n    box-shadow:0 1px 3px rgba(0,0,0,0.08);\n    & :first-child {\n        font-size: 13px;\n        color:#009688;\n        font-weight:200;\n    }\n    & :last-child {\n        margin:14px 0;\n        color:#4A4A4A;\n    }\n"]))),gn=(0,en.ZP)(rn.Z)(i||(i=(0,$.Z)(["\n    padding:15px 20px 25px 30px;\n    & > p{\n        font-size:13px;\n        color:#8696a0;\n    }\n"]))),mn=function(){var n=(0,nn.useContext)(on.w).account;return(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)(hn,{children:(0,xn.jsx)(fn,{src:n.picture,alt:"displaypicture"})}),(0,xn.jsxs)(Zn,{children:[(0,xn.jsx)(dn.Z,{children:"Your Name"}),(0,xn.jsx)(dn.Z,{children:n.name})]}),(0,xn.jsx)(gn,{children:(0,xn.jsx)(dn.Z,{children:"This is not your username or pin.This name will be visible to your whatsapp contacts."})}),(0,xn.jsxs)(Zn,{children:[(0,xn.jsx)(dn.Z,{children:"About"}),(0,xn.jsx)(dn.Z,{children:"Eat!Sleep!Code!Repeat"})]})]})},vn=(0,en.ZP)(rn.Z)(o||(o=(0,$.Z)(["\n   background:#008069;\n   height:107px;\n   color:#FFFFFF;\n   display:flex;\n   & > svg,& > p{\n        margin-top:auto;\n        padding:15px;\n        font-weight:600;\n   }\n"]))),jn=(0,en.ZP)(rn.Z)(a||(a=(0,$.Z)(["\n    background:#ededed;\n    height:85%;\n"]))),wn=(0,en.ZP)(dn.Z)(c||(c=(0,$.Z)(["\n  font-size:18px;\n"]))),bn={left:20,top:17,height:"95%",width:"30%",boxShadow:"none"},Pn=function(n){var e=n.open,t=n.setOpen,r=n.profile;return(0,xn.jsxs)(ln.ZP,{open:e,onClose:function(){t(!1)},PaperProps:{sx:bn},style:{zIndex:1500},children:[(0,xn.jsxs)(vn,{children:[(0,xn.jsx)(pn.Z,{onclick:function(){return t(!1)}}),(0,xn.jsx)(wn,{children:"Profile"})]}),(0,xn.jsx)(jn,{children:r&&(0,xn.jsx)(mn,{})})]})},yn=t(7235),kn=t(4387),Fn=t(5590),Cn=t(4956),zn=(0,en.ZP)(kn.Z)(u||(u=(0,$.Z)(["\n   font-size:14px;\n   padding:15px 60px 5px 24px;\n   color:#4A4A4A;\n"]))),Sn=((0,en.ZP)(Cn.Kz)(d||(d=(0,$.Z)(["\n  border:none;\n  box-shadow:none;\n"]))),function(){var n=(0,nn.useState)(!1),e=(0,cn.Z)(n,2),t=e[0],r=e[1],s=(0,nn.useState)(!1),i=(0,cn.Z)(s,2),o=i[0],a=i[1],c=((0,nn.useContext)(on.w).setAccount,function(){r(null)});return(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)(yn.Z,{onClick:function(n){r(n.currentTarget)}}),(0,xn.jsxs)(Fn.Z,{anchorEl:t,open:t,keepMounted:!0,onClose:c,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,xn.jsx)(zn,{onClick:function(){c(),a(!0)},children:"Profile"}),(0,xn.jsx)(zn,{onClick:function(){c()}})]}),(0,xn.jsx)(Pn,{open:o,setOpen:a,profile:!0})]})}),An=(0,en.ZP)(rn.Z)(l||(l=(0,$.Z)(["\n   height:44px;\n   background:#ededed;\n   padding:8px 16px;\n   display:flex;\n   align-items:center;\n"]))),_n=(0,en.ZP)(rn.Z)(p||(p=(0,$.Z)(["\n     margin-left:auto;\n     & > *{\n        margin-left:2px;\n        padding:8px;\n        color:#000;\n     };\n     & : first-child{\n        font-size:22px;\n        margin-right:8px;\n        margin-top:3px;\n     }\n"]))),In=(0,en.ZP)("img")({height:40,width:40,borderRadius:"50%"}),En=function(){var n=(0,nn.useState)(!1),e=(0,cn.Z)(n,2),t=e[0],r=e[1],s=(0,nn.useContext)(on.w).account;return(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsxs)(An,{children:[(0,xn.jsx)(In,{src:s.picture,alt:"dp",onClick:function(){r(!0)}}),(0,xn.jsxs)(_n,{children:[(0,xn.jsx)(un.Z,{}),(0,xn.jsx)(Sn,{})]})]}),(0,xn.jsx)(Pn,{open:t,setOpen:r,profile:!0})]})},Rn=t(2167),Tn=t(9192),Un=(0,en.ZP)(rn.Z)(x||(x=(0,$.Z)(["\n   background:#fff;\n   height:45px;\n   border-bottom:1px solid #F2F2F2; \n   display:flex;\n   align-items:center; \n"]))),On=(0,en.ZP)(rn.Z)(h||(h=(0,$.Z)(["\n   background-color:#f0f2f5;\n   position:relative;\n   margin:0 13px;\n   width:100%;\n   border-radius:10px;\n"]))),Mn=(0,en.ZP)(rn.Z)(f||(f=(0,$.Z)(["\n    position:absolute;\n    height:100%;\n    padding:8px;\n    color:#919191\n"]))),Dn=(0,en.ZP)(Tn.ZP)(Z||(Z=(0,$.Z)(["\n   width:100%;\n   padding:16px;\n   height:15px;\n   padding-left:65px;\n   font-size:14px;\n"]))),Ln=function(n){var e=n.setText;return(0,xn.jsx)(Un,{children:(0,xn.jsxs)(On,{children:[(0,xn.jsx)(Mn,{children:(0,xn.jsx)(Rn.Z,{fontSize:"small"})}),(0,xn.jsx)(Dn,{placeholder:"Search or start new chat",inputProps:{"arial-label":"search"},onChange:function(n){return e(n.target.value)}})]})})},Wn=t(4165),Hn=t(5861),Vn=t(1243),qn="https://serverwhatsapp-y0cj.onrender.com",Bn=function(){var n=(0,Hn.Z)((0,Wn.Z)().mark((function n(e){var t;return(0,Wn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Vn.Z.post("".concat(qn,"/add"),e);case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.log("error while using addUser api:",n.t0.message);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),Kn=function(){var n=(0,Hn.Z)((0,Wn.Z)().mark((function n(){var e;return(0,Wn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Vn.Z.get("".concat(qn,"/users"));case 3:return e=n.sent,n.abrupt("return",e.data);case 7:n.prev=7,n.t0=n.catch(0),console.log("error getUsers api: ",n.t0.message);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}(),Nn=function(){var n=(0,Hn.Z)((0,Wn.Z)().mark((function n(e){return(0,Wn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Vn.Z.post("".concat(qn,"/conversation/add"),e);case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log("error setConversation api: ",n.t0.message);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}(),Yn=function(){var n=(0,Hn.Z)((0,Wn.Z)().mark((function n(e){var t;return(0,Wn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Vn.Z.post("".concat(qn,"/conversation/get"),e);case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.log("error getConversation api: ",n.t0.message);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),Gn=function(){var n=(0,Hn.Z)((0,Wn.Z)().mark((function n(e){return(0,Wn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Vn.Z.post("".concat(qn,"/message/add"),e);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),console.log("error newMessage api: ",n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}(),Qn=function(){var n=(0,Hn.Z)((0,Wn.Z)().mark((function n(e){var t;return(0,Wn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Vn.Z.get("".concat(qn,"/message/get/").concat(e));case 3:return t=n.sent,n.abrupt("return",t.data);case 7:n.prev=7,n.t0=n.catch(0),console.log("Error while calling getMesssage api",n.t0.message);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),Xn=function(){var n=(0,Hn.Z)((0,Wn.Z)().mark((function n(e){return(0,Wn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Vn.Z.post("".concat(qn,"/file/upload"),e);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),console.log("Error while calling uploadFile api ",n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}(),Jn=t(4721),$n=function(n){var e=new Date(n).getHours(),t=new Date(n).getMinutes();return"".concat(e<10?"0"+e:e,":").concat(t<10?"0"+t:t)},ne=(0,en.ZP)(rn.Z)(g||(g=(0,$.Z)(["\n    display:flex;\n    height:45px;\n    padding:13px 0;\n    cursor:pointer;\n"]))),ee=(0,en.ZP)("img")({width:50,height:50,borderRadius:"50%",padding:"0 14px",objectFit:"cover"}),te=(0,en.ZP)(rn.Z)(m||(m=(0,$.Z)(["\n   display:flex;\n"]))),re=(0,en.ZP)(dn.Z)(v||(v=(0,$.Z)(["\n  font-size:12px;\n  margin-left:auto;\n  color:#00000099;\n  margin-right:20px;\n"]))),se=(0,en.ZP)(dn.Z)(j||(j=(0,$.Z)(["\n  display:block;\n  font-size:14px\n  color:rgba(0,0,0,0.6);\n"]))),ie=function(n){var e,t=n.user,r=t.picture||"https://www.kindpng.com/picc/m/78-785827_user-profile-avatar-login-account-male-user-icon.png",s=(0,nn.useContext)(on.w),i=s.account,o=s.setPerson,a=s.newMessageFlag,c=(0,nn.useState)({}),u=(0,cn.Z)(c,2),d=u[0],l=u[1];(0,nn.useEffect)((function(){var n=function(){var n=(0,Hn.Z)((0,Wn.Z)().mark((function n(){var e;return(0,Wn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Yn({senderId:i.sub,receiverId:t.sub});case 2:e=n.sent,l({text:null===e||void 0===e?void 0:e.message,timestamp:null===e||void 0===e?void 0:e.updatedAt});case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[a,i,t]);var p=function(){var n=(0,Hn.Z)((0,Wn.Z)().mark((function n(){return(0,Wn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(t),n.next=3,Nn({senderId:i.sub,receiverId:t.sub});case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,xn.jsxs)(ne,{onClick:function(){return p()},children:[(0,xn.jsx)(rn.Z,{children:(0,xn.jsx)(ee,{src:r,alt:"dp"})}),(0,xn.jsxs)(rn.Z,{style:{width:"100%"},children:[(0,xn.jsxs)(te,{children:[(0,xn.jsx)(dn.Z,{children:t.name}),(null===d||void 0===d?void 0:d.text)&&(0,xn.jsx)(re,{children:$n(null===d||void 0===d?void 0:d.timestamp)})]}),(0,xn.jsx)(rn.Z,{children:(0,xn.jsx)(se,{children:null!==d&&void 0!==d&&null!==(e=d.text)&&void 0!==e&&e.includes("localhost")?"media":d.text})})]})]})},oe=(0,en.ZP)(rn.Z)(w||(w=(0,$.Z)(["\n   height:81vh;\n   overflow:overlay;\n"]))),ae=(0,en.ZP)(Jn.Z)(b||(b=(0,$.Z)(["\n   margin:0 0 0 70px;\n   background-color:#e9edef;\n   opacity:0.6;\n"]))),ce=function(n){var e=n.text,t=(0,nn.useState)([]),r=(0,cn.Z)(t,2),s=r[0],i=r[1],o=(0,nn.useContext)(on.w),a=o.account,c=o.socket,u=o.setActiveUsers;return(0,nn.useEffect)((function(){var n=function(){var n=(0,Hn.Z)((0,Wn.Z)().mark((function n(){var t,r;return(0,Wn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Kn();case 2:t=n.sent,r=(null===t||void 0===t?void 0:t.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())})))||t,i(r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[e]),(0,nn.useEffect)((function(){c.current.emit("addUser",a),c.current.on("getUsers",(function(n){u(n)}))}),[a,c,u]),(0,xn.jsx)(oe,{children:s&&s.map((function(n,e){return n.sub!==a.sub&&(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)(ie,{user:n}),s.length===e+1&&(0,xn.jsx)(ae,{})]})}))})},ue=function(){var n=(0,nn.useState)(""),e=(0,cn.Z)(n,2),t=e[0],r=e[1];return(0,xn.jsxs)(rn.Z,{children:[(0,xn.jsx)(En,{}),(0,xn.jsx)(Ln,{setText:r}),(0,xn.jsx)(ce,{text:t})]})},de=(0,en.ZP)(rn.Z)(P||(P=(0,$.Z)(["\n  background:#f8f9fa;\n  padding :30px 0;\n  text-align:center;\n  height:100vh;\n"]))),le=(0,en.ZP)(rn.Z)(y||(y=(0,$.Z)(["\n    padding:0 200px;\n"]))),pe=(0,en.ZP)("img")({width:400,marginTop:100}),xe=(0,en.ZP)(dn.Z)(k||(k=(0,$.Z)(["\n   font-size:32px;\n   margin:25px 0 10px 0;\n   font-family:inherit;\n   font-weight:300;\n   color:#41525d;\n"]))),he=(0,en.ZP)(dn.Z)(F||(F=(0,$.Z)(["\n   font-size;14px;\n   color:#667781;\n   font-weight:400;\n   font-family:inherit;\n"]))),fe=(0,en.ZP)(Jn.Z)(C||(C=(0,$.Z)(["\n  margin:40px 0px;\n  opacity:0.4;\n"]))),Ze=function(){return(0,xn.jsx)(de,{children:(0,xn.jsxs)(le,{children:[(0,xn.jsx)(pe,{src:"https://i.gadgets360cdn.com/large/whatsapp_multi_device_support_update_image_1636207150180.jpg",alt:"dp"}),(0,xn.jsx)(xe,{children:"Whatsapp web"}),(0,xn.jsx)(he,{children:"How send recieve messages without keeping your phone online."}),(0,xn.jsx)(he,{children:"Use WhatsApp on up to 4 linked devices and 1 phone at the same time."}),(0,xn.jsx)(fe,{})]})})},ge=(0,en.ZP)(rn.Z)(z||(z=(0,$.Z)(["\n   height:44px;\n   background:#ededed;\n   padding:8px 16px;\n   display:flex;\n   align-items:center;\n"]))),me=(0,en.ZP)("img")({height:40,width:40,objectFit:"cover",borderRadius:"50%"}),ve=(0,en.ZP)(dn.Z)(S||(S=(0,$.Z)(["\n   margin-left:12px !important; \n"]))),je=(0,en.ZP)(dn.Z)(A||(A=(0,$.Z)(["\n   margin-left:12px !important;\n   font-size:12px !important;\n   color:rgb(0,0,0.6);\n"]))),we=(0,en.ZP)(rn.Z)(_||(_=(0,$.Z)(["\n   margin-left:auto;\n   & > svg{\n    padding:8px;\n    font-size:22px;\n   color:#000;\n   }\n"]))),be=function(n){var e=n.person,t=e.picture||"https://static.straitstimes.com.sg/s3fs-public/articles/2020/12/01/af_moneyheist_011220.jpg",r=(0,nn.useContext)(on.w).activeUsers;return(0,xn.jsxs)(ge,{children:[(0,xn.jsx)(me,{src:t,alt:"dp"}),(0,xn.jsxs)(rn.Z,{children:[(0,xn.jsx)(ve,{children:e.name}),(0,xn.jsx)(je,{children:null!==r&&void 0!==r&&r.find((function(n){return n.sub===e.sub}))?"Online":"Offline"})]}),(0,xn.jsxs)(we,{children:[(0,xn.jsx)(Rn.Z,{}),(0,xn.jsx)(yn.Z,{})]})]})},Pe=t(2982),ye=t(1413),ke=t(2269),Fe=t(5980),Ce=t(7097),ze=(0,en.ZP)(rn.Z)(I||(I=(0,$.Z)(["\n   height:55px;\n   background:#ededed;\n   width:100%;\n   display:flex;\n   align-items:center;  \n   padding:0 15px;\n   & > *{\n     margin:5px;\n     color:#919191\n   }\n"]))),Se=(0,en.ZP)(ke.Z)(E||(E=(0,$.Z)(["\n  transform: rotate(40deg);\n"]))),Ae=(0,en.ZP)(rn.Z)(R||(R=(0,$.Z)(["\n  background-color:#FFFFFF;\n  border-radius:18px;\n  width:calc(94% - 100px);\n"]))),_e=(0,en.ZP)(Tn.ZP)(T||(T=(0,$.Z)(["\n    width:100%;\n    height:20px;\n    padding:20px;\n    padding-left:25px;\n    font-size:14px;\n"]))),Ie=function(n){var e=n.sendText,t=n.value,r=n.setValue,s=n.file,i=n.setFile,o=n.setImage;(0,nn.useEffect)((function(){var n=function(){var n=(0,Hn.Z)((0,Wn.Z)().mark((function n(){var e,t;return(0,Wn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!s){n.next=8;break}return(e=new FormData).append("name",s.name),e.append("file",s),n.next=6,Xn(e);case 6:t=n.sent,o(t.data);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[s,o]);return(0,xn.jsxs)(ze,{children:[(0,xn.jsx)(Fe.Z,{}),(0,xn.jsx)("label",{htmlFor:"fileInput",children:(0,xn.jsx)(Se,{})}),(0,xn.jsx)("input",{type:"file",id:"fileInput",style:{display:"none"},onChange:function(n){return function(n){i(n.target.files[0]),r(n.target.files[0].name)}(n)}}),(0,xn.jsx)(Ae,{children:(0,xn.jsx)(_e,{placeholder:"Type a message",inputProps:{"aria-label":"search"},onChange:function(n){return r(n.target.value)},onKeyPress:function(n){return e(n)},value:t})}),(0,xn.jsx)(Ce.Z,{})]})},Ee=t(8712),Re=(0,en.ZP)(rn.Z)(U||(U=(0,$.Z)(["\n   background : #dcf8c6;\n   max-width : 60%;\n   margin-left : auto;\n   padding:5px;\n   width: fit-content;\n   display: flex;\n   border-radius: 10px;\n   word-break : break-word;\n"]))),Te=(0,en.ZP)(rn.Z)(O||(O=(0,$.Z)(["\nbackground:#FFFFFF;\nmax-width:60%;\npadding:5px;\nwidth:fit-content;\ndisplay:flex;\nborder-radious:10px;\nword-break:break-word;\n"]))),Ue=(0,en.ZP)(dn.Z)(M||(M=(0,$.Z)(["\n   font-size:14px;\n   padding:0 25px 0 5px;\n"]))),Oe=(0,en.ZP)(dn.Z)(D||(D=(0,$.Z)(["\n  font-size:10px;\n   color:#919191;\n   margin-top:6px;\n   word-break:keep-all;\n"]))),Me=function(n){var e,t=n.message;return(0,xn.jsxs)(rn.Z,{style:{position:"relative"},children:[null!==t&&void 0!==t&&null!==(e=t.text)&&void 0!==e&&e.includes(".pdf")?(0,xn.jsxs)(rn.Z,{style:{display:"flex"},children:[(0,xn.jsx)("img",{src:"https://cdn4.iconfinder.com/data/icons/logos-and-brands/512/27_Pdf_File_Type_Adobe_logo_logos-512.png",alt:"pdf-icon",style:{width:80}}),(0,xn.jsx)(dn.Z,{style:{fontSize:14},children:t.text.split("/").pop()})]}):(0,xn.jsx)("img",{style:{width:300,height:"100%",objectFit:"cover"},src:t.text,alt:t.text}),(0,xn.jsxs)(Oe,{style:{position:"absolute",bottom:0,right:0},children:[(0,xn.jsx)(Ee.Z,{onClick:function(n){return function(n,e){n.preventDefault();try{fetch(e).then((function(n){return n.blob()})).then((function(n){var t=window.URL.createObjectURL(n),r=document.createElement("a");r.style.display="none",r.href=t;var s=e.split("/").pop();r.download=""+s,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(t)})).catch((function(n){return console.log("Error while downloading the image",n.message)}))}catch(t){console.log("Error while downloading the image",t.message)}}(n,t.text)},style:{marginRight:10,border:"1px solid grey",borderRadius:"50%"},fontSize:"small"}),$n(t.createdAt)]})]})},De=function(n){var e=n.message;return(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)(Ue,{children:e.text}),(0,xn.jsx)(Oe,{children:$n(e.createdAt)})]})},Le=function(n){var e=n.message,t=(0,nn.useContext)(on.w).account;return(0,xn.jsx)(xn.Fragment,{children:t.sub===e.senderId?(0,xn.jsx)(Re,{children:"file"===e.type?(0,xn.jsx)(Me,{message:e}):(0,xn.jsx)(De,{message:e})}):(0,xn.jsx)(Te,{children:"file"===e.type?(0,xn.jsx)(Me,{message:e}):(0,xn.jsx)(De,{message:e})})})},We=(0,en.ZP)(rn.Z)(L||(L=(0,$.Z)(["\n   background-image:url(",");\n   background-size:50%;\n"])),"https://user-image.githubusercontent.com/15075759/28719144/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png"),He=(0,en.ZP)(rn.Z)(W||(W=(0,$.Z)(["\n  height:80vh;\n  overflow-y:scroll;\n"]))),Ve=(0,en.ZP)(rn.Z)(H||(H=(0,$.Z)(["\n   padding:1px 80px;\n"]))),qe=function(n){var e,t=n.person,r=n.conversation,s=(0,nn.useContext)(on.w),i=s.account,o=s.socket,a=s.newMessageFlag,c=s.setNewMessageFlag,u=(0,nn.useState)(),d=(0,cn.Z)(u,2),l=d[0],p=d[1],x=(0,nn.useState)([]),h=(0,cn.Z)(x,2),f=h[0],Z=h[1],g=(0,nn.useState)(),m=(0,cn.Z)(g,2),v=m[0],j=m[1],w=(0,nn.useState)(),b=(0,cn.Z)(w,2),P=b[0],y=b[1],k=(0,nn.useState)(null),F=(0,cn.Z)(k,2),C=F[0],z=F[1],S=(0,nn.useRef)();(0,nn.useEffect)((function(){o.current.on("getMessage",(function(n){z((0,ye.Z)((0,ye.Z)({},n),{},{createdAt:Date.now()}))}))}),[o]),(0,nn.useEffect)((function(){var n=function(){var n=(0,Hn.Z)((0,Wn.Z)().mark((function n(){var e;return(0,Wn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Qn(r._id);case 2:e=n.sent,Z(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();r._id&&n()}),[null===r||void 0===r?void 0:r._id,t._id,a]),(0,nn.useEffect)((function(){var n;null===(n=S.current)||void 0===n||n.scrollIntoView({transition:"smooth"})}),[f]),(0,nn.useEffect)((function(){var n;C&&(null===r||void 0===r||null===(n=r.members)||void 0===n?void 0:n.includes(C.senderId))&&Z((function(n){return[].concat((0,Pe.Z)(n),[C])}))}),[C,r]);var A=null===r||void 0===r||null===(e=r.members)||void 0===e?void 0:e.find((function(n){return n!==i.sub})),_=function(){var n=(0,Hn.Z)((0,Wn.Z)().mark((function n(e){var t,s;return(0,Wn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.keyCode||e.which,l){n.next=3;break}return n.abrupt("return");case 3:if(13!==t){n.next=13;break}return s={},s=v?{senderId:i.sub,receiverId:A,conversationId:r._id,type:"file",text:P}:{senderId:i.sub,receiverId:A,conversationId:r._id,type:"text",text:l},o.current.emit("sendMessage",s),n.next=9,Gn(s);case 9:p(""),j(""),y(""),c((function(n){return!n}));case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,xn.jsxs)(We,{children:[(0,xn.jsx)(He,{children:f&&f.map((function(n){return(0,xn.jsx)(Ve,{ref:S,children:(0,xn.jsx)(Le,{message:n})})}))}),(0,xn.jsx)(Ie,{sendText:_,setValue:p,value:l,file:v,setFile:j,setImage:y})]})},Be=function(){var n=(0,nn.useContext)(on.w),e=n.account,t=n.person,r=(0,nn.useState)({}),s=(0,cn.Z)(r,2),i=s[0],o=s[1];return(0,nn.useEffect)((function(){var n=function(){var n=(0,Hn.Z)((0,Wn.Z)().mark((function n(){var r;return(0,Wn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Yn({senderId:e.sub,receiverId:t.sub});case 2:r=n.sent,o(r);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[t.sub,e.sub]),(0,xn.jsxs)(rn.Z,{style:{height:"75%"},children:[(0,xn.jsx)(be,{person:t}),(0,xn.jsx)(qe,{person:t,conversation:i})]})},Ke=(0,en.ZP)(rn.Z)(V||(V=(0,$.Z)(["\n    display:flex;\n"]))),Ne=(0,en.ZP)(rn.Z)(q||(q=(0,$.Z)(["\n   min-width:450px;\n"]))),Ye=(0,en.ZP)(rn.Z)(B||(B=(0,$.Z)(["\n width:73%;\n min-width:300px;\n height:100%;\n border-left:1px solid rgba(0,0,0,0.14);\n"]))),Ge={height:"95%",width:"100%",margin:"20px",maxWidth:"100%",maxHeight:"100%",boxShadow:"none",borderRadius:0,overflow:"hidden"},Qe=function(){var n=(0,nn.useContext)(on.w).person;return(0,xn.jsx)(an.Z,{open:!0,PaperProps:{sx:Ge},BackdropProps:{style:{backgroundColor:"unset"}},maxWidth:"md",children:(0,xn.jsxs)(Ke,{children:[(0,xn.jsx)(Ne,{children:(0,xn.jsx)(ue,{})}),(0,xn.jsx)(Ye,{children:Object.keys(n).length?(0,xn.jsx)(Be,{}):(0,xn.jsx)(Ze,{})})]})})},Xe=t(493),Je=t(5982),$e=t(456),nt=(0,en.ZP)(rn.Z)(K||(K=(0,$.Z)(["\n  display:flex;\n"]))),et=(0,en.ZP)(rn.Z)(N||(N=(0,$.Z)(["\n  padding:56px 0 56px 56px\n"]))),tt={height:"95%",marginTop:"12%",width:"60%",maxWidth:"100%",maxHeight:"100%",borderRadius:0,boxShadow:"none",overflow:"hidden"},rt=(0,en.ZP)("img")({height:264,width:264,margin:"50px 0 0 50px"}),st=(0,en.ZP)(dn.Z)(Y||(Y=(0,$.Z)(["\n   font-size:26px;\n   color:#525252;\n   font-weigth:300;\n   font-family:Segoe UI,Helvetica,Lucida Grand,Arial,Ubuntu,Cantarell,Fira Sans,sans-serif;\n   margin-bottom:25px;\n"]))),it=(0,en.ZP)(Xe.Z)(G||(G=(0,$.Z)(["\n  &>li{\n    padding:0;\n    margin-top:15px;\n    font-size:18px;\n    line-height:28px;\n    color:#4a4a4a;\n  }\n"]))),ot=function(){var n=(0,nn.useContext)(on.w).setAccount,e=function(){var e=(0,Hn.Z)((0,Wn.Z)().mark((function e(t){var r;return(0,Wn.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,$e.Z)(t.credential),n(r),e.next=4,Bn(r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,xn.jsx)(an.Z,{open:!0,PaperProps:{sx:tt},BackdropProps:{style:{backgroundColor:"unset"}},maxWidth:"md",children:(0,xn.jsxs)(nt,{children:[(0,xn.jsxs)(et,{children:[(0,xn.jsx)(st,{children:"To use WhatsApp on computer:"}),(0,xn.jsxs)(it,{children:[(0,xn.jsx)(Je.ZP,{children:"1. Open whatsApp on your phone"}),(0,xn.jsx)(Je.ZP,{children:"2. Tab menu Settings and select WhatsApp web"}),(0,xn.jsx)(Je.ZP,{children:"3.Point your phone to this screen to capture the code"})]})]}),(0,xn.jsxs)(rn.Z,{style:{position:"relative"},children:[(0,xn.jsx)(rt,{src:"https://www.ginifab.com/feeds/qr_code/img/qrcode.jpg",alt:"Qr Code"}),(0,xn.jsx)(rn.Z,{style:{position:"absoute",top:"50%",transform:"translateX(25%) translateY(-25%)"},children:(0,xn.jsx)(Cn.kZ,{buttonText:" ",onSuccess:e,onError:function(n){console.log("Login Failed:",n)}})})]})]})})},at=(0,en.ZP)(tn.Z)(Q||(Q=(0,$.Z)(["\n  height:125px;\n  background-color:#00A884;\n  box-shadow:none;\n"]))),ct=(0,en.ZP)(tn.Z)(X||(X=(0,$.Z)(["\n  height:200px;\n  background-color:#00bfa5;\n  box-shadow:none;\n"]))),ut=(0,en.ZP)(rn.Z)(J||(J=(0,$.Z)(["\n    height:100vh;\n    background:#DCDCDC;\n"]))),dt=function(){var n=(0,nn.useContext)(on.w).account;return(0,xn.jsx)(ut,{children:n?(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)(at,{children:(0,xn.jsx)(sn.Z,{})}),(0,xn.jsx)(Qe,{})]}):(0,xn.jsxs)(xn.Fragment,{children:[(0,xn.jsx)(ct,{children:(0,xn.jsx)(sn.Z,{})}),(0,xn.jsx)(ot,{})]})})}}}]);
//# sourceMappingURL=608.2c100933.chunk.js.map